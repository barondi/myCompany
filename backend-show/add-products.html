<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <title>后台管理</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="css/plugins/datapicker/datepicker3.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/my.css">

</head>

<body class="fixed-navigation">
<div id="wrapper">
    <nav class="navbar-default navbar-static-side" role="navigation" id="nav">
        <div class="sidebar-collapse">
            <ul class="nav metismenu" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element">
                    	<span>
                            <img alt="image" class="img-circle" src="img/profile_small.jpg" />
                        </span>
                        <span class="clear">
                            <span class="block m-t-xs text-name">
                                <strong class="font-bold">张三</strong>
                            </span>
                            <span class="text-muted text-xs block">
                                北京市五彩城店店长
                            </span>
                        </span>
                    </div>
                    <div class="logo-element">
                        <img src="img/profile_small.jpg" />
                    </div>
                </li>
                <li>
                    <a href="index.html"><i class="fa fa-bar-chart-o"></i> <span class="nav-label">数据管理</span></a>
                </li>
                <li class="active">
                    <a href="#"><i class="fa fa-desktop"></i> <span class="nav-label">产品管理</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li class="active"><a href="###">添加产品</a></li>
                        <li><a href="on-products.html">在线产品</a></li>
                        <li><a href="off-products.html">下架产品</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#"><i class="fa fa-mobile"></i> <span class="nav-label">媒体资源库</span><span class="fa arrow"></span></a>
                    <ul class="nav nav-second-level collapse">
                        <li><a href="pro-conduct.html">宣传视频</a></li>
                        <li><a href="pro-pictures.html">产品图</a></li>
                    </ul>
                </li>
            </ul>

        </div>
    </nav>

    <div id="page-wrapper" class="gray-bg">
        <div class="row border-bottom white-bg">
            <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
                <div class="navbar-header">
                    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#"><i class="fa fa-bars"></i> </a>
                    <div class="navbar-title-custom">数据管理</div>
                </div>
                <ul class="nav navbar-top-links navbar-right">
                    <li>
                        <a href="login.html">
                            <i class="fa fa-sign-out"></i> 退出
                        </a>
                    </li>
                </ul>
            </nav>
        </div>

        <form class="animated fadeInRight params-list" action="" method="post" enctype='multipart/form-data'>
            <div class="form-group list-bg">
                <div class="row plist-type">
                    <label class="col-lg-3">* 产品型号</label>
                    <input class="col-lg-9" type="text" required="true" placeholder="请输入信息" />
                </div>
                <div class="row plist-type">
                    <label class="col-lg-3">* 产品缩略图</label>
                    <div class="col-lg-9 plist-type-min">
                        <div id="preview" style="float:left;margin-right:24px;width:123px;height:123px;display:none;">

                        </div>
                        <div class="product-min">
                            <input class="upload-file" type="file" multiple onchange="previewImage(this)" />
                            <i class="fa fa-plus" aria-hidden="true"></i>
                        </div>
                        <p style="float:left;">请上传白底或透明底产品图片，推荐尺寸300*300px，大小不要超过2M</p>
                    </div>
                </div>
            </div>
            <div class="form-group list-bg pic-list">
                <div class="row plist-title">
                    <label class="col-lg-3">待机宣传视频</label>
                    <span>支持mp4格式，大小不要超过200M</span>
                </div>
                <div class="row" style="padding:20px;">
                    <div class="video-text">
                        <span style="float:left;"></span>
                        <div class="new-upload btn-25b6ed" style="float:left;position:relative;cursor:pointer;background-color:#25b6ed;padding:0 10px;border-radius:4px;color:#ffffff;">上传视频
                            <input type="file" id="video-upload" style="position:absolute;opacity:0;filter:alpha(opacity=0);top:0;left:0;width:100%;height:100%;" />
                        </div>
                    </div>
                </div>
                <!--<ul class="row">
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <select>
                                <option value="0" selected>停留</option>
                                <option value="1">停留5秒</option>
                                <option value="2">停留4秒</option>
                                <option value="3">停留3秒</option>
                            </select>
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <select>
                                <option value="0" selected>停留</option>
                                <option value="1">停留5秒</option>
                                <option value="2">停留4秒</option>
                                <option value="3">停留3秒</option>
                            </select>
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <select>
                                <option value="0" selected>停留</option>
                                <option value="1">停留5秒</option>
                                <option value="2">停留4秒</option>
                                <option value="3">停留3秒</option>
                            </select>
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <select>
                                <option value="0" selected>停留</option>
                                <option value="1">停留5秒</option>
                                <option value="2">停留4秒</option>
                                <option value="3">停留3秒</option>
                            </select>
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <select>
                                <option value="0" selected>停留</option>
                                <option value="1">停留5秒</option>
                                <option value="2">停留4秒</option>
                                <option value="3">停留3秒</option>
                            </select>
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <input class="upload-file" type="file" multiple />
                        <i class="fa fa-plus" aria-hidden="true"></i>
                    </li>
                </ul>-->
            </div>
            <div class="form-group list-bg pic-list pic-list2">
                <div class="row plist-title">
                    <label class="col-lg-3">应用场景图片</label>
                    <span>推荐大小1200*500px 可拖拽调整顺序</span>
                </div>
                <div class="row" style="padding:24px 12px 0">
                    <!--<li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <img src="./img/service1.jpg" alt="">
                        <div class="operate">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </li>
                    <li class="col-lg-4">
                        <input class="upload-file" type="file" multiple />
                        <i class="fa fa-plus" aria-hidden="true"></i>
                    </li>-->
                    <!--    照片添加    -->
                    <div class="z_photo">
                        <div class="z_file">
                            <input type="file" class="upload-file" name="file" id="file" value="" accept="image/*" multiple onchange="imgChange('z_photo','z_file');" />
                            <i class="fa fa-plus" aria-hidden="true"></i>
                        </div>
                    </div>

                    <!--遮罩层-->
                    <div class="z_mask">
                        <!--弹出框-->
                        <div class="z_alert">
                            <p>确定要删除这张图片吗？</p>
                            <p>
                                <span class="z_cancel">取消</span>
                                <span class="z_sure">确定</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group list-bg pic-list config-list">
                <div class="row plist-title">
                    <label>添加产品配置信息</label>
                </div>
                <div class="row plist-content">
                    <label class="col-lg-2 clist-title">处理器</label>
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">CPU类型：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">核心数量：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">处理器速度：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row plist-content">
                    <label class="col-lg-2 clist-title">内存</label>
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">存储容量：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">扩展支持：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row plist-content">
                    <label class="col-lg-2 clist-title">硬盘</label>
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">硬盘类型：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">硬盘容量：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row plist-content">
                    <label class="col-lg-2 clist-title">显卡</label>
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">显卡类型：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">显卡芯片：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">显存：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row plist-content">
                    <label class="col-lg-2 clist-title">屏幕</label>
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">屏幕尺寸：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">分辨率：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row plist-content">
                    <label class="col-lg-2 clist-title">电池</label>
                    <div class="col-lg-10">
                        <div class="row">
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">电池类型：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">电池容量：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-6 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">续航时间：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group list-bg pic-list config-list">
                <div class="row plist-title">
                    <label>产品服务信息</label>
                </div>
                <div class="row plist-content">
                    <div class="qrcode col-lg-3">
                        <span>上传<br>微信公众号<br>二维码</span>
                        <input type="file" />
                    </div>
                    <div class="col-lg-9">
                        <div class="row">
                            <div class="col-lg-12 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">售后服务：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                            <div class="col-lg-12 clist-item">
                                <div class="row">
                                    <label class="col-lg-4">包装清单：</label>
                                    <input class="col-lg-8" type="text" placeholder='请输入信息'>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="row">
                    <button class="btn btn-25b6ed col-lg-12">发布产品</button>
                </div>
            </div>
        </form>

        <div class="footer">
            <div>
                <strong>Copyright</strong> &copy; 2016-2017
            </div>
        </div>
    </div>
</div>

<!-- Mainly scripts -->
<script src="js/jquery-2.1.1.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="js/inspinia.js"></script>
<script src="js/plugins/pace/pace.min.js"></script>

<!-- jQuery UI -->
<script src="js/plugins/jquery-ui/jquery-ui.min.js"></script>
<script type="text/javascript">
    $(function(){
        /*获取上传文件名称*/
        var vUpload=$('#video-upload');
        var vText=$('.video-text span');
        vUpload.on('change',function(){
            var file = vUpload.val();
            var fileName = getFileName(file);
            vText.css('marginRight','24px').text(fileName);
            function getFileName(o){
                var pos=o.lastIndexOf("\\");
                return o.substring(pos+1);
            }
        })
    })
    /*但图片上传*/
    function previewImage(file){
        var MAXWIDTH  = 123;
        var MAXHEIGHT = 123;
        var div = document.getElementById('preview');
        if (file.files && file.files[0]){
            div.innerHTML ='<img id=imghead>';
            var img = document.getElementById('imghead');
            img.onload = function(){
                var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
                img.width  =  rect.width;
                img.height =  rect.height;
//                 img.style.marginLeft = rect.left+'px';
                img.style.marginTop = rect.top+'px';
            }
            var reader = new FileReader();
            reader.onload = function(evt){img.src = evt.target.result;}
            reader.readAsDataURL(file.files[0]);
        }else{
            //兼容IE
            var sFilter='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';
            file.select();
            var src = document.selection.createRange().text;
            div.innerHTML = '<img id=imghead>';
            var img = document.getElementById('imghead');
            img.filters.item('DXImageTransform.Microsoft.AlphaImageLoader').src = src;
            var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
            status =('rect:'+rect.top+','+rect.left+','+rect.width+','+rect.height);
            div.innerHTML = "<div id=divhead style='width:"+rect.width+"px;height:"+rect.height+"px;margin-top:"+rect.top+"px;"+sFilter+src+"\"'></div>";
        }
        div.style.display='block';
    }
    function clacImgZoomParam( maxWidth, maxHeight, width, height ){
        var param = {top:0, left:0, width:width, height:height};
        if( width>maxWidth || height>maxHeight ){
            rateWidth = width / maxWidth;
            rateHeight = height / maxHeight;
            if( rateWidth > rateHeight ){
                param.width =  maxWidth;
                param.height = Math.round(height / rateWidth);
            }else{
                param.width = Math.round(width / rateHeight);
                param.height = maxHeight;
            }
        }
        param.left = Math.round((maxWidth - param.width) / 2);
        param.top = Math.round((maxHeight - param.height) / 2);
        return param;
    }
    /*多图片上传*/
    function imgChange(obj1, obj2) {
        var zFile = document.getElementsByClassName('z_file')[0];
        //获取点击的文本框
        var file = document.getElementById("file");
        //存放图片的父级元素
        var imgContainer = document.getElementsByClassName(obj1)[0];
        //获取的图片文件
        var fileList = file.files;
        //文本框的父级元素
        var input = document.getElementsByClassName(obj2)[0];
        var imgArr = [];
        //遍历获取到得图片文件
        for (var i = 0; i < fileList.length; i++) {
            var imgUrl = window.URL.createObjectURL(file.files[i]);
            imgArr.push(imgUrl);
            var img = document.createElement("img");
            img.setAttribute("src", imgArr[i]);
            var imgAdd = document.createElement("div");
            imgAdd.setAttribute("class", "z_addImg");
            imgAdd.appendChild(img);
            imgContainer.insertBefore(imgAdd,zFile);
        };
        imgRemove();
    };
    function imgRemove() {
        var imgList = document.getElementsByClassName("z_addImg");
        var mask = document.getElementsByClassName("z_mask")[0];
        var cancel = document.getElementsByClassName("z_cancel")[0];
        var sure = document.getElementsByClassName("z_sure")[0];
        for (var j = 0; j < imgList.length; j++) {
            imgList[j].index = j;
            imgList[j].onclick = function() {
                var t = this;
                mask.style.display = "block";
                cancel.onclick = function() {
                    mask.style.display = "none";
                };
                sure.onclick = function() {
                    mask.style.display = "none";
                    t.style.display = "none";
                };

            }
        };
    };
</script>
</body>
</html>
